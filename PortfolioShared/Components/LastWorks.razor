


<MudGrid Justify="Justify.Center">
    <MudItem xs="12" Class="d-flex justify-center">
        <Bar />
    </MudItem>
    <MudItem xs="12">
        <MudText Typo="Typo.h2" Align="Align.Center">my last works</MudText>
    </MudItem>
    
</MudGrid>

@code {
    ProjectsVM _projects;
    LoadingStatus loadingStatus = LoadingStatus.LoadingInProgress;

    protected override async Task OnInitializedAsync()
    {

        await fetchData();

    }
    private async Task TryAgain()
    {
        await fetchData();
    }
    private async Task fetchData()
    {
        try
        {
            loadingStatus = LoadingStatus.LoadingInProgress;
            var jsonContent = await httpClient.GetStringAsync("https://raw.githubusercontent.com/Ahmed2000Github/Data/master/projectsdata.json");
            _projects = System.Text.Json.JsonSerializer.Deserialize<ProjectsVM>(jsonContent, new JsonSerializerOptions { PropertyNameCaseInsensitive = true })!;
            loadingStatus = LoadingStatus.LoadingSuceeded;
        }
        catch (Exception)
        {
            loadingStatus = LoadingStatus.LoadingFailed;

        }

    }
}
